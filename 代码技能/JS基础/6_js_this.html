<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        /*
        1. this 依赖于 调用环境的对象, 近者优先
        2. new 生成的绑定 this 优先级最高
        3. call apply bind 优先级仅次于 new
        4. 箭头函数里面, this 取决于上一个不是箭头函数的 this
        */
        //---------------------------------------------------------
        var number = 5;
        var obj = {
            number: 3,
            fn1: (function () {
                var number = 1;
                console.log(this.number) // 执行默认情况, this指向window
                return function () {
                    console.log(this.number) // 执行隐式绑定, this指向obj
                }
            })()
        }
        obj.fn1()
        // ---------------------------------------------------------

        
        // this绑定丢失情况
        function fn() {
            console.log(this.name)
        }
        var obj2 = {
            name: 'Jeden',
            method: fn
        }
        var name = 'Zhan'
        fn2 = obj2.method;
        fn2() // this绑定丢失,结果是Zhan
        
    </script>
</head>
<body>
    
</body>
</html>