前端安全是一个大话题, 但是常见攻击方式并且常问的就是XSS和CSRF

## XSS

  简单理解: `攻击者想方设法把可执行的危险代码插入到网页里面`

XSS 分为多种类型, 大致上可以分为两类: **持久性攻击和非持久性攻击**

**持久性攻击** 就是危险代码被写在数据库中, 这种危险性很大, 会导致所有访问该网站的用户受到攻击

比如在可输入评论的网站输入 <script>alert(1)</script>

如果后端没有做好防御, 这段代码就会被写在数据库里, 所有访问该网页的用户都会被攻击

**非持久性攻击** 一般在浏览器地址栏修改url参数来实现

例如:

```html
www.google.com/index.html?name=<script>alert(1)</script>
```

对于这种攻击来说, chrome 会主动帮助用户抵御攻击

但还是要防御, 不能确定每一个用户都使用了 chrome

### 防御(两种方式)

#### 1. 转义字符

首先, 永远不要信任用户的输入, 最普遍的做法是转义输入输出的内容, 对于引号, 尖括号, 斜杠进行转义

```js
function escape(str) {
  str = str.replace(/&/g, '&amp;')
  str = str.replace(/</g, '&lt;')
  str = str.replace(/>/g, '&gt;')
  str = str.replace(/"/g, '&quto;')
  str = str.replace(/'/g, '&#39;')
  str = str.replace(/`/g, '&#96;')
  str = str.replace(/\//g, '&#x2F;')
  return str
} // 转义为html代码

escape('<script>alert(1)</script>')
// 转义为 &lt;script&gt;alert(1)&lt;&#x2F;script&gt;
```



## CSRF

