## 四层网络结构

- 应用层

> 负责处理特定的应用程序细节

- 运输层

> 主要为两台主机上的应用提供端到端的通讯

- 网络层

> 处理网络中的活动, 比如分组的选路

- 物理链路层

> 包括操作系统中设备的驱动程序, 计算机对应的网卡等物理设备





## web 请求过程

浏览器本身是客户端, 当你输入 url 并敲回车时, 首先浏览器会请求 DNS 服务器, 通过 DNS 获取相应的域名对应的 IP ,然后通过 IP 找到 IP 对应的服务器后, 要求建立 TCP 连接, 等浏览器发完 HTTP Request请求,  服务器接收到请求包之后开始处理请求包, 服务端调用自身服务, 返回 HTTP Response(响应) 包, 客户端收到服务端响应后开始渲染这个 Response 的主体 (body), 等收到全部内容后断开与该服务器的连接



web 请求可归纳为:

1. 浏览器通过DNS找到服务器IP
2. 客户端通过 TCP/IP 协议建立到服务器的 TCP 连接
3. 客户端向服务器发送 HTTP 协议请求包, 请求服务器的资源和文档
4. 服务端向客户端发送 HTTP 应答包, 如果资源包里有动态语言, 服务器会调用动态语言解释引擎解析,并将解析结果返回给客户端
5. 客户端与服务器断开, 由客户端渲染内容数据



### 第一步-找到服务端 IP 地址

#### 1. 浏览器本身检查

浏览器会先检查自己的DNS缓存(这个时间比较短, 大概只有一分钟, 并且只能容纳1000条), 如果有并且没有过期, 解析结束

####　2. 计算机系统 DNS 缓存和 hosts 文件检查

如果浏览器里面没有找到对应的条目, 浏览器会寻找系统的 DNS 缓存, 如果有并且没有过期, 解析结束

如果系统也没有, 浏览器会找到 hosts 文件, 查看对应的 IP 如果有, 解析结束

 如果修改了 hosts 文件, 浏览器会以 hosts 文件为准

#### 3. 本地区域名服务器解析

如果 hosts 也没找到, 浏览器会发起一个 DNS 的系统调用, 

